# 🤖 Stock Scout - מערכת המלצות מניות אוטומטית

## ✨ מה חדש - מצב אוטומטי מלא

המערכת עודכנה למצב **"live"** עם סריקות אוטומטיות:

### 🔄 סריקות אוטומטיות פעמיים ביום
- **8:00 AM UTC** (10:00 בישראל חורף / 11:00 קיץ)
- **8:00 PM UTC** (22:00 בישראל חורף / 23:00 קיץ)
- סורק **500 מניות מובילות** בארה"ב
- GitHub Actions מריץ סריקה ושומר תוצאות ב-`data/scans/latest_scan.parquet`

### 📊 כל כניסה לאפליקציה
- טוענת אוטומטית את הסריקה האחרונה (עד 12 שעות)
- אין צורך לבחור גודל יקום או פרמטרים
- הממשק פשוט ומיני מלי - רק הגדרות השקעה

### 🎯 יתרונות
1. **תמיד עדכני**: סריקות פעמיים ביום
2. **טעינה מהירה**: כניסה מיידית לנתונים
3. **אמין**: GitHub Actions מבטיח ריצה עקבית
4. **חוסך זמן**: אין צורך להריץ סריקות ידניות

---

## 🚀 הגדרת המערכת

### 1. הגדרת סודות ב-GitHub

נווט ל-Settings → Secrets and variables → Actions וה וסף:

```
ALPHA_VANTAGE_API_KEY=your_key_here
FINNHUB_API_KEY=your_key_here
```

### 2. הפעלת GitHub Actions

הקובץ `.github/workflows/auto_scan.yml` מוכן לעבודה:
- רץ אוטומטית פעמיים ביום
- ניתן להפעיל ידנית דרך Actions → Auto Stock Scan → Run workflow

### 3. פריסה ל-Streamlit Cloud

1. חבר את הריפו ל-Streamlit Cloud
2. הוסף סודות ב-App settings → Secrets:
   ```
   ALPHA_VANTAGE_API_KEY = "your_key"
   FINNHUB_API_KEY = "your_key"
   ```
3. הגדר קובץ ראשי: `stock_scout.py`
4. השתמש ב-Python 3.11

האפליקציה תטען אוטומטית את הסריקה האחרונה מ-GitHub!

---

## 📁 מבנה הקבצים

```
├── .github/workflows/
│   └── auto_scan.yml          # GitHub Actions workflow - סריקה אוטומטית
├── auto_scan_runner.py         # סקריפט הסריקה האוטומטית
├── stock_scout.py              # אפליקציית Streamlit ראשית
├── data/scans/
│   ├── latest_scan.parquet     # סריקה אחרונה (מתעדכן ע"י Actions)
│   └── latest_scan.json        # מטא-דאטה של הסריקה
└── requirements.txt
```

---

## 🔧 הרצה מקומית (לפיתוח)

### סריקה ידנית חד-פעמית:
```bash
python auto_scan_runner.py
```

### הרצת האפליקציה:
```bash
streamlit run stock_scout.py
```

---

## 📊 לוגיקת הסריקה

הסקריפט `auto_scan_runner.py` מבצע:
1. הורדת נתונים היסטוריים ל-500 מניות (365 יום)
2. חישוב אינדיקטורים:
   - RSI (14 תקופות)
   - תשואות 20 ו-60 יום
   - Volatility שנתי
3. חישוב ציון מורכב:
   - מומנטום (תשואות חיוביות)
   - איזון RSI (30-70 אופטימלי, < 30 בונוס oversold)
   - קנס עבור volatility גבוה
4. שמירת תוצאות ל-`latest_scan.parquet`

---

## ⏰ זמני סריקה

| זמן (UTC) | ישראל (חורף) | ישראל (קיץ) | תדירות |
|-----------|--------------|-------------|--------|
| 08:00 | 10:00 | 11:00 | יומי |
| 20:00 | 22:00 | 23:00 | יומי |

---

## 🛠️ פתרון בעיות

### הסריקה לא רצה?
1. בדוק את Actions tab ב-GitHub
2. ודא שהסודות מוגדרים
3. הרץ ידנית: Actions → Auto Stock Scan → Run workflow

### האפליקציה מציגה "אין סריקה זמינה"?
1. ודא ש-`data/scans/latest_scan.parquet` קיים ב-repo
2. הרץ `python auto_scan_runner.py` פעם אחת מקומית
3. עשה commit ו-push

### הסריקה ישנה מדי (>12 שעות)?
- המערכת תציג אזהרה אך תשתמש בנתונים הישנים
- הסריקה הבאה תרוץ אוטומטית בזמן המתוכנן

---

## 📈 סטטיסטיקות

המערכת האוטומטית מספקת:
- ✅ 500 מניות מובילות בארה"ב
- ✅ עדכון פעמיים ביום
- ✅ זמינות 24/7 דרך Streamlit Cloud
- ✅ נתונים לא יותר מ-12 שעות ישנים

---

## 🤝 תרומה לפרויקט

לשאלות או בעיות, פתח Issue ב-GitHub.

---

## ⚖️ כתב ויתור

מערכת זו מספקת מידע טכני בלבד ו**אינה מהווה ייעוץ השקעות**.
השתמש בשיקול דעתך האישי ועל אחריותך בלבד.
